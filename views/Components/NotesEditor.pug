extends ../notes.pug
block editor 
    - var id = note.id
    form(action="/notes/" + note.id, method="post")
        input(type="text" name="title" placeholder="Title" value= note.title) 
        input(type="hidden" name="author" value="Me")
        textarea#note-body(name="body", placeholder="Notes", cols="30", rows="10")= note.body
    button#delete 
        span= "Delete"
    script(type='text/javascript').
        let id = !{JSON.stringify(note.id)}
        const button = document.getElementById('delete')
        button.addEventListener('click', () => fetch('/notes/' + id, {
            method: 'DELETE',
        })
        .then(res => alert("Delted successfully")) // or res.json()
        .then(res => console.log(res))) 

